---
# https://www.elastic.co/guide/en/beats/filebeat/current/filebeat-getting-started.html
elastic_url: "https://artifacts.elastic.co"
filebeat_deamon: "filebeat"
filebeat_version: "latest"
filebeat_config_include_dir: "/etc/filebeat/"

# https://www.elastic.co/guide/en/beats/filebeat/current/filebeat-configuration.html
# https://www.elastic.co/guide/en/beats/filebeat/current/filebeat-configuration-details.html

# https://www.elastic.co/guide/en/beats/filebeat/current/configuration-global-options.html
filebeat_global:
  spool_size: 2048
  publish_async: "false"
  idle_timeout: "5s"
  registry_file: "/var/lib/filebeat/registry"
  config_dir: ""
  shutdown_timeout: ""
  
# https://www.elastic.co/guide/en/beats/filebeat/current/configuration-filebeat-options.html
filebeat_prospectors:
  -
    # required settings
    paths:
      - /var/log/syslog
    input_type: "log"
    document_type: "syslog"
    
    # optional settings (default values)
    encoding: "plain"
    exclude_lines: "" # ["^DBG"]
    include_lines: "" # ["^ERR", "^WARN"]
    exclude_files: "" # [".gz$"]
    fields_under_root: "false"
    ignore_older: 0
    close_older: "1h"
    scan_frequency: "10s"
    harvester_buffer_size: 16384
    max_bytes: 10485760
    tail_files: "false"
    backoff: "1s"
    max_backoff: "10s"
    backoff_factor: 2
    force_close_files: "false"
  -
    paths:
      - /var/log/auth.log
    input_type: "log"
    document_type: "authlog"
  -
    paths:
      - /var/log/*/*.log
    input_type: "log"
    document_type: "misc_log"

# https://www.elastic.co/guide/en/beats/filebeat/current/config-filebeat-logstash.html
filebeat_output:
  logstash:
    hosts: '["localhost:5044"]'
    worker: 1
    bulk_max_size: 1024
    compression_level: 3
    loadbalance: true
    index: filebeat
  file:
    path: "/tmp/filebeat"
    filename: filebeat
    rotate_every_kb: 10240
    number_of_files: 7
  console:
    pretty: false

# https://www.elastic.co/guide/en/beats/filebeat/current/configuration-logging.html
filebeat_logging:
  to_syslog: false
  to_files: true
  files:
    path: /var/log/filebeat/
    name: filebeat.log
    rotateeverybytes: 10485760 # = 10MB
    keepfiles: 7
  level: info
